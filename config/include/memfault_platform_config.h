#define MEMFAULT_USE_GNU_BUILD_ID 1
#define MEMFAULT_TRACE_REASON_USER_DEFS_FILE "memfault_trace_reason_user_config.def"

#define MEMFAULT_PLATFORM_COREDUMP_NOINIT_SECTION_NAME "retention_mem_uninit"

// Configure heartbeat interval to 2.5 minutes
#define MEMFAULT_METRICS_HEARTBEAT_INTERVAL_SECS 150
#define MEMFAULT_EVENT_INCLUDE_DEVICE_SERIAL 1

#if defined(HPY_MEMFAULT_RAM_COREDUMP_ENABLED)
// Settings for core dumps that use RAM storage

#ifndef HPY_MEMFAULT_COREDUMP_STACK_COLLECTION_SIZE
#define HPY_MEMFAULT_COREDUMP_STACK_COLLECTION_SIZE (512)
#endif /* HPY_MEMFAULT_COREDUMP_STACK_COLLECTION_SIZE */

#ifndef HPY_MEMFAULT_COREDUMP_BASE_SIZE
#define HPY_MEMFAULT_COREDUMP_BASE_SIZE (512)
#endif /* HPY_MEMFAULT_COREDUMP_BASE_SIZE */

#ifndef HPY_MEMFAULT_COREDUMP_SIZE
#define HPY_MEMFAULT_COREDUMP_SIZE (HPY_MEMFAULT_COREDUMP_BASE_SIZE + HPY_MEMFAULT_COREDUMP_STACK_COLLECTION_SIZE)
#endif /* HPY_MEMFAULT_COREDUMP_SIZE */

#else // #if defined(HPY_MEMFAULT_RAM_COREDUMP_ENABLED)
// Settings for core dumps that use QSPI/flash storage
#define MEMFAULT_PLATFORM_COREDUMP_STORAGE_USE_FLASH (1)
#define MEMFAULT_PLATFORM_COREDUMP_STORAGE_PARTITION HPY_MEMFAULT_PART
#define HPY_MEMFAULT_COREDUMP_SIZE (128*1024)

#endif // #if defined(HPY_MEMFAULT_RAM_COREDUMP_ENABLED)
